{"name":"MiFaSol - MIDI Footswitch/Controoler","tagline":"MIDI Controller","body":"# MiFaSol\r\n## MIDI FootSwitch Controoler\r\n## ©2014, Antonis Maglaras\r\n<br>\r\n### History\r\nI was in the need for a MIDI Controller for my rack-mounted guitar processor. <br>\r\nWhat easier to do with an Arduino?<br>\r\n<br>\r\nThe basic idea was to add some footswitches, a MIDI Out and to send whatever MIDI messages I wanted.<br>\r\nAfter some testing and coding, here is the latest version of the project:<br>\r\n<br>\r\nA custom PCB (actually, an Arduino) with MIDI In & MIDI Out/Thru.<br>\r\nLCD (HD44780) 4x20 with I2C Driver.<br>\r\n8 Foot switches (momentary).<br>\r\nInput for any passive volume pedal (for use as expression pedal).<br>\r\n<br>\r\n<br>\r\n<br>\r\n### What you can do\r\nFirst of all, note that all footswitches are programmable.<br>\r\nYou can assign to each one to send a Control Change/Program Change/Note On/Note Off MIDI Message.<br>\r\nFor example, you can use foot switch #1 to send \"Program Change 5\", foot switch #2 to send \"Note C4 On\", foot switch #3 \"Control Change 7 with value 127\", foot switch #4 \"Note A3 Off\" etc.<br>\r\nAlso if you attach a volume pedal, you can program it to send the same commands, with variable parameter depending on the pressed level. E.g. you can send CC #7 with values from 0 to 127, realtime.<br>\r\nFor fully compatibility, the expression pedal can be calibrated.<br>\r\n<br>\r\nAnother one feature, is the MIDI In. It's nice, if the MIDI appliance is sending back information for the current program. You are pressing \"Next\" program from the MIDI Controller, then the \"Next\" program from your MIDI appliance and then again \"Next\" program from the MIDI Controller, and you are always go to the next program.<br>\r\n<br>\r\n<br>\r\n<br>\r\n### Programming<br>\r\nTo program the MIDI Controller you don't need a PC. Everything is done via 4 foot switches and the LCD display.<br>\r\n<br>\r\nPress the footswitches #1 & #2 at the same time to enter the Main Menu.<br>\r\nFoot switch #1 acts as \"Previous\" value.<br>\r\nFoot switch #2 acts as \"Next\" value.<br>\r\nFoot switch #3 acts as \"Enter/Accept\".<br>\r\nFoot switch #4 acts as \"Escape/Cancel\".<br>\r\n<br>\r\n<br>\r\nThe menu items are:<br>\r\n<br>\r\n- MIDI Out Channgel.<br>\r\n  The Channel that is used for sending the commands.<br>\r\n  * To be included in a next version, a feature to enable MIDI Out as MIDI Thru too.<br>\r\n    Will forward every MIDI message it receives from MIDI In (if it's enabled).<br>\r\n<br>\r\n- MIDI In channel.<br>\r\n  The Channel that the controller is listening or disable the MIDI In feature.<br>\r\n  When you enable the MIDI In, the controller will accept and display the Program Change values.<br>\r\n  All other MIDI messages are ignored.<br>\r\n<br>\r\n- Footswitches Settings.<br>\r\n  You can program what type of message every footswitch will send.<br>\r\n<br>\r\n- Expression Pedal Mode.<br>\r\n  You can enable or disable the pedal input.<br>\r\n<br>\r\n- Expression Pedal Calibration.<br>\r\n  You can calibrate the pedal for full response.<br>\r\n<br>\r\n- Backlight Time.<br>\r\n  You can set the backlight timeout of the LCD (automatic off) from 1-99 seconds, Always On or Always Off.<br>\r\n<br>\r\n- Version/Memory.<br>\r\n  Mostly for debugging. You can see what is the current software version and the available (free) memory.<br>\r\n<br>\r\n- Factory Reset.<br>\r\n  You can reset all settings to default values. <br>\r\n<br>\r\n<br>\r\n<br>\r\n### Board Information<br>\r\nThe PCB is small. 75x50mm. It includes low-cost THT parts.<br>\r\nIt has a \"PROGRAM\" header, for connecting a FTDI adapter for uploading the software,<br>\r\na double-DIP Switch, for changing from PROGRAM mode to MIDI mode (they share the same pin, so they cannot be used at the same time).<br>\r\n<br>\r\nThe board can be powered by 7-18V DC (note that it has NOT reverse polarity protection!).<br>\r\n<br>\r\n<br>\r\n<br>\r\n### Parts List<br>\r\n1 x ATmega328<br>\r\n1 x 6N139 Optocoupler<br>\r\n1 x 16MHz Crystal<br>\r\n2 x 22pF Ceramic Capacitors<br>\r\n2 x 220μF Electrolytic Capacitors<br>\r\n1 x 100nF Polyester Capacitor<br>\r\n1 x 7805 Voltage Regulator<br>\r\n1 x LED<br>\r\n1 x 1N4148 Diode<br>\r\n2 x DIP Switchs<br>\r\n2 x MIDI PCB Female Jacks<br>\r\n1 x 4.7kΩ Resistor<br>\r\n2 x 10kΩ Resistors<br>\r\n4 x 220Ω Resistors<br>\r\n1 x Push switch (momentary button)<br>\r\n<br>\r\n<br>\r\n<br>\r\n### To Do<br>\r\nA lot of stuff, but have no time yet :)<br>\r\nStay tuned!<br>\r\n<br>","google":"UA-48120679-1","note":"Don't delete this file! It's used internally to help with page regeneration."}